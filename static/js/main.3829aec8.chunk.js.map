{"version":3,"sources":["redux/actionTypes.js","components/sorting/index.js","redux/actionCreators.js","components/basket/index.js","components/likes/index.js","components/items/items.js","pages/mainPage/index.js","App.js","redux/reducer.js","index.js"],"names":["SORT_BY_PRICE_ASC","SORT_BY_PRICE_DESC","FILTER_BY_MATERIAL","SortingOpts","useState","material","setMaterial","price","setPrice","dispatch","useDispatch","useEffect","type","payload","className","value","onChange","event","target","priceSortChange","selected","materialChange","materials","map","id","name","Basket","itemID","icon","setIcon","busket","localStorage","getItem","setItem","JSON","stringify","parse","filter","el","length","alt","src","onClick","push","Likes","liked","setLiked","favourites","picStyle","backgroundColor","style","Items","items","setItems","allData","useSelector","state","filteredData","item","old_price","image","url","code","Math","floor","current_price","MainPage","href","App","initialState","compareAsc","a","b","compareDesc","store","createStore","action","sort","materialSelected","Number","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3829aec8.chunk.js","sourcesContent":["export const SORT_BY_PRICE_ASC = 'SORT_BY_PRICE_ASC';\r\nexport const SORT_BY_PRICE_DESC = 'SORT_BY_PRICE_DESC';\r\nexport const FILTER_BY_MATERIAL = 'FILTER_BY_MATERIAL';\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport materials from '../../data/materials.json';\r\nimport { filterByMaterial, sortByPriceAsc, sortByPriceDesc } from '../../redux/actionCreators';\r\n\r\nfunction SortingOpts() {\r\n  const [material, setMaterial] = useState();\r\n  const [price, setPrice] = useState();\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    if (price === 'asc') dispatch(sortByPriceAsc());\r\n    if (price === 'desc') dispatch(sortByPriceDesc());\r\n  }, [price, setPrice, dispatch]);\r\n\r\n  useEffect(() => {\r\n    dispatch(filterByMaterial(material));\r\n  }, [material, setMaterial, dispatch]);\r\n\r\n  const materialChange = (event) => {\r\n    setMaterial(event.target.value);\r\n  };\r\n  const priceSortChange = (event) => {\r\n    setPrice(event.target.value);\r\n  };\r\n\r\n  return (\r\n    <div className=\"sorting-filters\">\r\n      <div className=\"sorting-filters__wrapper\">\r\n        <span className=\"sorting-filters__label\">Сортировать по</span>\r\n        <div className=\"sorting-filters__option-wrapper\">\r\n          <select className=\"sorting-filters__options\" value={price} onChange={(event) => priceSortChange(event)}>\r\n            <option selected className=\"sorting-filters_hidden\"></option>\r\n            <option value='asc'>Цена по возрастанию</option>\r\n            <option value='desc'>Цена по убыванию</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n      <div className=\"sorting-filters__wrapper\">\r\n        <span className=\"sorting-filters__label\">Материал</span>\r\n        <div className=\"sorting-filters__option-wrapper\">\r\n          <select className=\"sorting-filters__options\" value={material} onChange={(event) => materialChange(event)}>\r\n            <option selected className=\"sorting-filters_hidden\"></option>\r\n            {materials.map((material) => <option value={material.id}>{material.name}</option>)}\r\n          </select>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SortingOpts;\r\n","import {\r\n  SORT_BY_PRICE_ASC,\r\n  SORT_BY_PRICE_DESC,\r\n  FILTER_BY_MATERIAL,\r\n} from './actionTypes';\r\n\r\nexport const sortByPriceAsc = () => ({ type: SORT_BY_PRICE_ASC });\r\nexport const sortByPriceDesc = () => ({ type: SORT_BY_PRICE_DESC });\r\nexport const filterByMaterial = (id) => ({ type: FILTER_BY_MATERIAL, payload: id });\r\n","import { useState, useEffect } from 'react';\r\n\r\nfunction Basket({ itemID }) {\r\n  const [icon, setIcon] = useState('/pic/icon_busket.png');\r\n  let busket = [];\r\n  if (!localStorage.getItem(\"busket\")) localStorage.setItem('busket', JSON.stringify([]));\r\n\r\n  const handleClick = () => {\r\n    if (JSON.parse(localStorage.getItem(\"busket\")).filter((el) => el === itemID).length) {\r\n      busket = JSON.parse(localStorage.getItem(\"busket\")).filter((el) => el !== itemID);\r\n      localStorage.setItem('busket', JSON.stringify(busket));\r\n      setIcon('/pic/icon_busket.png');\r\n    } else {\r\n      busket = (JSON.parse(localStorage.getItem(\"busket\")));\r\n      busket.push(itemID)\r\n      localStorage.setItem('busket', JSON.stringify(busket));\r\n      setIcon('/pic/icon_ok.png');\r\n    };\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (localStorage.getItem(\"busket\") && JSON.parse(localStorage.getItem(\"busket\")).filter((el) => el === itemID).length) {\r\n      setIcon('/pic/icon_ok.png');\r\n    } else setIcon('/pic/icon_busket.png');\r\n  }, [setIcon, itemID]);\r\n  return (\r\n    <img alt=\"pic\" src={icon} onClick={() => handleClick()} />\r\n  );\r\n};\r\n\r\nexport default Basket;\r\n","import { useState, useEffect } from 'react';\r\n\r\nfunction Likes({ itemID }) {\r\n  const [liked, setLiked] = useState(false);\r\n  let favourites = [];\r\n  if (!localStorage.getItem(\"favourites\")) localStorage.setItem('favourites', JSON.stringify([]));\r\n\r\n  const handleClick = () => {\r\n    if (JSON.parse(localStorage.getItem(\"favourites\")).filter((el) => el === itemID).length) {\r\n      favourites = JSON.parse(localStorage.getItem(\"favourites\")).filter((el) => el !== itemID);\r\n      localStorage.setItem('favourites', JSON.stringify(favourites));\r\n      setLiked(false);\r\n    } else {\r\n      favourites = (JSON.parse(localStorage.getItem(\"favourites\")));\r\n      favourites.push(itemID)\r\n      localStorage.setItem('favourites', JSON.stringify(favourites));\r\n      setLiked(true);\r\n    };\r\n  }\r\n  const picStyle = {\r\n    backgroundColor: liked? 'yellow' : '',\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (localStorage.getItem(\"favourites\") && JSON.parse(localStorage.getItem(\"favourites\")).filter((el) => el === itemID).length) {\r\n      setLiked(true);\r\n    } else setLiked(false);\r\n  }, [itemID]);\r\n  return (\r\n    <img alt=\"pic\" src={'/pic/heart.png'} style={picStyle} onClick={() => handleClick()} />\r\n  );\r\n};\r\n\r\nexport default Likes;\r\n","import { useState, useEffect } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport Basket from '../basket';\r\nimport Likes from '../likes';\r\n\r\nfunction Items() {\r\n  const [items, setItems] = useState([]);\r\n  const allData = useSelector(state => state.allData);\r\n  const filteredData = useSelector(state => state.filteredData);\r\n  useEffect(() => {\r\n    filteredData.length ? setItems(filteredData) : setItems(allData)\r\n  }, [filteredData, items, allData])\r\n\r\n  return (\r\n    <div className=\"item\">\r\n      {items.map((item) => {\r\n        return (\r\n          <div key={item.id} className=\"item__wrapper\">\r\n            <div className={item.price.old_price ? \"item__discount_visible\" : \"item__discount\"}> {/* плашка с дискаунтом */}\r\n              <p>Скидка</p>\r\n            </div>\r\n            <img alt=\"pic\" src={`${item.image.url}`} className=\"item__image\" /> {/* картинка */}\r\n            <div className={item.code ? \"item__vendor-code\" : \"item__vendor-code_hidden\"}>{item.code}</div> {/* код/артикул */}\r\n            <div className=\"item__name\">{item.name}</div> {/* имя позиции */}\r\n            <div className=\"item__bottom-wrapper\">\r\n            <div className=\"item__price\"> {/* цена */}\r\n              {item.price.old_price && <div className=\"item__price_old\">{Math.floor(item.price.old_price)}</div>}\r\n              {<div className=\"item__price_current\">{Math.floor(item.price.current_price)}</div>}\r\n            </div>\r\n            <div className=\"item__buttons\"> {/* кнопки */}\r\n              <div className=\"item__basket\"><Basket itemID={item.id} /></div>\r\n              <div className=\"item__favorite\"><Likes itemID={item.id} /></div>\r\n            </div>\r\n          </div>\r\n          </div>\r\n  )\r\n})}\r\n    </div >\r\n  );\r\n};\r\n\r\nexport default Items;\r\n","import SortingOpts from '../../components/sorting';\r\nimport Items from '../../components/items/items.js';\r\n\r\nfunction MainPage() {\r\n\r\n  return (\r\n    <div className=\"mainPage\">\r\n      <div className=\"mainPage__path\"><a href='/#'>Главная</a> / <a href='/#'>Системы хранения</a> / <a href='/#'>Комплекты стелажных систем</a></div>\r\n      <h1 className=\"mainPage__title\">Комплекты стелажных систем</h1>\r\n\r\n      <div className=\"mainPage__sorting-lists\"><SortingOpts /></div>\r\n      <div className=\"mainPage__items\"><Items /></div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MainPage;\r\n","import MainPage from './pages/mainPage';\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <MainPage />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import items from '../data/items.json';\r\nimport {\r\n  SORT_BY_PRICE_ASC,\r\n  SORT_BY_PRICE_DESC,\r\n  FILTER_BY_MATERIAL,\r\n} from './actionTypes';\r\n\r\nconst initialState = {\r\n  allData: items,\r\n  filteredData: [],\r\n};\r\n\r\nfunction compareAsc(a, b) {\r\n  if (a.price.current_price < b.price.current_price) {\r\n    return -1;\r\n  }\r\n  if (a.price.current_price > b.price.current_price) {\r\n    return 1;\r\n  }\r\n  return 0;\r\n};\r\n\r\nfunction compareDesc(a, b) {\r\n  if (a.price.current_price < b.price.current_price) {\r\n    return 1;\r\n  }\r\n  if (a.price.current_price > b.price.current_price) {\r\n    return -1;\r\n  }\r\n  return 0;\r\n};\r\n\r\nexport default function ReduxStorage(state = initialState, action) {\r\n  const { type, payload } = action;\r\n  switch (type) {\r\n    case SORT_BY_PRICE_ASC: {\r\n      return {\r\n        ...state,\r\n        filteredData: [...state.allData].sort(compareAsc),\r\n      };\r\n    }\r\n    case SORT_BY_PRICE_DESC: {\r\n      return {\r\n        ...state,\r\n        filteredData: [...state.allData].sort(compareDesc),\r\n      };\r\n    }\r\n    case FILTER_BY_MATERIAL: {\r\n      const materialSelected = [...state.allData].filter((item) => item.material === Number(payload));\r\n      return {\r\n        ...state,\r\n        filteredData: materialSelected,\r\n      };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport { Provider } from 'react-redux';\r\nimport { createStore, applyMiddleware } from 'redux';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport ReduxStorage from './redux/reducer';\r\nimport thunk from 'redux-thunk';\r\n\r\nconst store = createStore(\r\n  ReduxStorage,\r\n  composeWithDevTools(applyMiddleware(thunk)),\r\n);\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}